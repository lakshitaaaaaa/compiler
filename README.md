# Java-Based Compiler with ANTLR Integration

This project is a compiler built in Java that supports loop constructs and simulates the execution of generated assembly-like instructions. It leverages **ANTLR (Another Tool for Language Recognition)** for lexical and syntactic analysis. Designed as an academic and learning-focused initiative, the project demonstrates fundamental concepts of compiler design.

---

## Features

- Lexical and syntax analysis using **ANTLR v4**
- Support for basic programming constructs: `while` and `for` loops
- Generation of intermediate and assembly-like instructions
- Simulation of instruction execution
- Modular, extensible architecture
- Basic error handling and reporting

---

## Technologies Used

- Java (JDK 21)
- ANTLR v4
- Eclipse
- Object-Oriented Programming principles

---

## Project Structure

| File Name                     | Description                                                                 |
|------------------------------|-----------------------------------------------------------------------------|
| `AssemblyCodeGenerator.java` | Contains logic to generate low-level assembly-style code from IR            |
| `EvalVisitor.java`           | Implements runtime evaluation of expressions and instructions               |
| `Main.java`                  | Entry point of the compiler; orchestrates parsing, semantic analysis, etc.  |
| `Simulator.java`             | Simulates the execution of generated code (acts as a virtual machine)       |
| `Expr.g4`                    | ANTLR grammar file that defines the syntax and parsing rules                |
| `ExprBaseListener.java`      | ANTLR-generated base class for parse tree listeners                         |
| `ExprBaseVisitor.java`       | ANTLR-generated base class for parse tree visitors                          |
| `ExprLexer.java`             | ANTLR-generated lexer for tokenizing source code                            |
| `ExprListener.java`          | ANTLR-generated interface for parse tree listener methods                   |
| `ExprParser.java`            | ANTLR-generated parser that builds parse trees from tokens                  |
| `ExprVisitor.java`           | ANTLR-generated interface for custom visitor implementations                |
| `Expr.interp`                | ANTLR interpreter file used for testing grammars (auto-generated)           |
| `Expr.tokens`                | File mapping token names to their corresponding numeric values              |
| `ExprLexer.interp`           | Interpreter file specific to the lexer (auto-generated by ANTLR)            |
| `ExprLexer.tokens`           | Token file generated for the lexer                                         |

---

## ANTLR Setup

1. **Download the ANTLR tool:**
   ```bash
   curl -O https://www.antlr.org/download/antlr-4.13.0-complete.jar
   ```

2. **(Optional) Set up aliases for convenience:**
   ```bash
   export CLASSPATH=".:antlr-4.13.0-complete.jar:$CLASSPATH"
   alias antlr4='java -jar antlr-4.13.0-complete.jar'
   alias grun='java org.antlr.v4.gui.TestRig'
   ```

3. **Generate lexer and parser files:**
   ```bash
   cd src/grammar
   antlr4 Expr.g4 -o ../parser
   ```

---

## Sample Input Program

```c
a = 5
b = 3
print(a + b)
if (a > b) {
   print(a)
} else {
   print(b)
}

loop (a < 10) {
   a = a + 1
   print(a)
}

for (i = 0; i < 3; i = i + 1) {
   b = b + 1
   print(b)
}

do {
   a = a - 1
   print(a)
} while (a > 7)

func add(x, y) {
   result = x + y
   print(result)
   return result
}

c = add(4, 6)

```

---

## Sample Output
### Generated Assembly Code
![Screenshot 2025-04-06 231426](https://github.com/user-attachments/assets/d397539b-1dab-4e26-a210-ef410ca49052)


---

## How to Clone and Run

1. **Clone the repository:**
   ```bash
   git clone https://github.com/lakshitaaaaaa/compiler-project.git
   cd compiler-project
   ```

2. **Follow the steps in the [ANTLR Setup](#antlr-setup) section** to generate the lexer and parser.

3. **Open the project in** Eclipse or IntelliJ IDEA.

4. **Ensure the ANTLR runtime is added** to your project build path.

5. **Run** `Main.java` as a Java application.

6. **Input source code** can be typed directly or loaded from files in the `test_programs/` directory.

---

## About ANTLR

[ANTLR](https://www.antlr.org/) (Another Tool for Language Recognition) is a powerful parser generator used for reading, processing, translating, and executing structured text or binary input. In this project, ANTLR is used to:

- Define the grammar of the custom programming language.
- Automatically generate the lexer and parser.
- Simplify the process of syntax analysis.

---

## Future Enhancements

- Support for conditional statements (`if`, `else`)
- Enhanced error handling and reporting
- Optimized code generation
- GUI interface for code input and output

---

## Frequently Asked Questions

### 1. Why use ANTLR?
   ANTLR allows you to define grammars in a declarative way and automatically generates lexers and parsers. This simplifies the compiler construction process and supports modular, reusable code.

### 2. Can I add more instructions?
   Yes. You can extend the ANTLR grammar file and implement the corresponding semantic checks, intermediate representation, and execution behavior in the compiler.

### 3. Does the compiler perform optimizations?
   Basic or optional optimizations can be added. This version focuses primarily on demonstrating the compilation pipeline clearly.

---
## License

This project is open for academic and educational use.
